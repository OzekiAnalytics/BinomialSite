<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wrestler Skill Binomial Test</title>
<style>
  body { font-family: sans-serif; max-width: 500px; margin: 2rem auto; }
  input, button { margin: 0.5rem 0; padding: 0.4rem; width: 100%; font-size: 1rem; }
  #result { margin-top: 1rem; font-weight: bold; }
</style>
</head>
<body>
  <h2>Wrestler Skill Binomial Test (Exact Outcome)</h2>
  
  <label>Wins: <input id="wins" type="number" value="6"></label>
  <label>Total Matches: <input id="total" type="number" value="7"></label>
  <label>Expected Win Prob (Hâ‚€): <input id="pnull" type="number" step="0.01" value="0.5"></label>
  
  <button onclick="runTest()">Run Test</button>
  
  <div id="result"></div>

<script>
// Factorial for combinations
function factorial(n){ return n <= 1 ? 1 : n * factorial(n - 1); }

// Combinations: n choose k
function comb(n,k){ return factorial(n)/(factorial(k)*factorial(n-k)); }

// Probability of exactly k wins
function binomPmf(k, n, p){ 
  return comb(n,k) * Math.pow(p,k) * Math.pow(1-p, n-k); 
}

function runTest(){
  const wins = parseInt(document.getElementById('wins').value);
  const total = parseInt(document.getElementById('total').value);
  const pnull = parseFloat(document.getElementById('pnull').value);

  const p_exact = binomPmf(wins, total, pnull);

  const msg = p_exact < 0.05 ? 
      "Rare outcome! Could indicate an advantage." :
      "Result could easily happen by chance.";

  document.getElementById('result').innerHTML = 
      `P(exactly ${wins} wins) = ${p_exact.toFixed(4)}<br>${msg}`;
}
</script>
</body>
</html>
